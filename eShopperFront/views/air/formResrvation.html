<div>
    <div class="headline"><h2>Réservation</h2></div>
    <!--<div ng-if="mode.value == 'form'" class="col-md-8">-->
    <!--<form ng-submit="saveClient()" >-->
    <div>
        <form>
            <div class="col-md-8">
                <div>
                    <details class="panel panel-default" open="">
                        <summary class="panel-heading"><span class="text-primary">Vos coordonées</span></summary> 
                        <div class="panel-body">
                            <div class="col-md-6 ">			         	
                                <label >Votre nom<span class="requis">*</span></label>
                                <input type="text" ng-model="client.nom" class="form-control" id="nom" placeholder="Votre nom" required size="20" maxlength="20" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label >Votre pénom<span class="requis">*</span></label>
                                <input type="text" ng-model="client.prenom" class="form-control" id="prenom" placeholder="Votre pénom" required size="20" maxlength="20" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label>Numéro de téléphone<span class="requis">*</span></label>
                                <input type="tel" ng-model="client.telephone" class="form-control" id="tel"  placeholder="Votre téléphone" required size="20" maxlength="20" />
                            </div> 
                            <div class="col-md-6 ">			         	
                                <label>Email <span class="requis">*</span></label>
                                <input type="email" ng-model="client.email" class="form-control" id="email"  placeholder="Enter your email" required size="20" maxlength="50" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label>Email <span class="requis">*</span></label>
                                <input type="email" ng-model="client.emailConfirm" class="form-control" id="email"  placeholder="Enter your email" required size="20" maxlength="50" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label >Adresse <span class="requis">*</span></label>
                                <input type="text" ng-model="client.adresse" class="form-control" id="adresse" placeholder="Votre adresse" required size="20" maxlength="20" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label >Ville <span class="requis">*</span></label>
                                <input type="text" ng-model="client.ville" class="form-control" id="Ville" placeholder="La ville" required size="20" maxlength="20" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label>Code postal <span class="requis">*</span></label>
                                <input type="text" ng-model="client.codePostal" class="form-control" id="cp" placeholder="Votre code postal" required size="2" maxlength="6" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label >Pays <span class="requis">*</span></label>
                                <input type="text" ng-model="client.pays" class="form-control" id="pays" placeholder="Votre pays" required size="3" maxlength="20" />
                            </div>
                            <div class="col-md-6 ">			         	
                                <label>Date de Naissance <span class="requis">*</span></label>
                                <input type="date" ng-model="client.dateNaissance" class="form-control" id="dateN" placeholder="Date de naissance" required size="20" maxlength="20" />
                            </div>
                        </div>
                    </details>
                </div>
                <div>
                    <details class="panel panel-default">
                        <summary class="panel-heading"><span class="text-primary">Voyageurs</span></summary> 
                        <div class="panel-body">


                            <div class="form-group">
                                <div ng-repeat="v in voyageurs">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label>Tranche d'age <span class="requis">*</span></label>
                                            <select  class="form-control" ng-model="v.trancheAge">
                                                <option value="adulte">Adulte</option>
                                                <option value="enfant">Enfant</option>
                                                <option value="bebe">Bébé</option>
                                            </select>
                                        </div>
                                        <div class="col-md-4 ">                        
                                            <label>Nom <span class="requis">*</span></label>
                                            <input type="text" ng-model="v.nom" class="form-control" placeholder="Nom de famille" required size="20" maxlength="20" />
                                        </div>
                                        <div class="col-md-4 ">                        
                                            <label>prénom <span class="requis">*</span></label>
                                            <input type="text" ng-model="v.prenom" class="form-control" placeholder="Prénom" required size="20" maxlength="20" />
                                        </div>
                                    </div>
                                </div><p>&nbsp;</p>
                                <div class="row pager">
                                        <button class="btn btn-aqua" ng-click="ajouterVoyageur()">Ajouter</button>
                                        <button class="btn btn-danger" ng-click="suprimerVoyageur()">Supprimer</button>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>
                <div>
                    <details class="panel panel-default">
                        <summary class="panel-heading"><span class="text-primary">Assurance voyage</span></summary> 
                        <div class="panel-body">
                            <div class="well well-lg">
                                Voyager assuré, c´est voyager tranquille: en souscrivant à 
                                une Assurance Voyage vous diposerez d´une solution rapide à tout problème pouvant survenir durant votre voyage.
                            </div> 

                            <div class="row row-narrow">
                                <div class="col-md-3">                                
                                    <img class="center-block" style="width: 300px" alt="#" src="./images/assuranceAnnulation.png">                                
                                </div>
                                <div class="col-md-9">
                                    <div class="row row-narrow">
                                        <div class="col-md-8">
                                            <h2 class="text-danger text-center">Annulation</h2><hr>
                                            <p>
                                                Et si vous ne pouviez pas voyager pour une raison importante ? Souscrivez à notre assurance annulation et récupérez au moins votre argent ! 
                                                <a class="verInfoDetallada" href="javascript:var v=window.open('./images/assuranceAnnulation.png','popUpPrivacidad','toolbar=0,menubar=0,scrollbars=1,width=715,height=615');"><span class="principal underline">Voir plus d'informations</span></a>

                                            </p>
                                        </div>

                                        <div class="col-md-4 text-center">
                                            <div class="row row-narrow">
                                                <p>&nbsp;</p>
                                                <div class="col-md-12">
                                                    <span>12,98€</span>
                                                </div>
                                                <p>&nbsp;</p>
                                                <div class="col-md-12">
                                                    <button type="button" class="btn btn-aqua" ng-model="prixAssurance" value="12.98">
                                                        <span>Inclure</span>
                                                    </button>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div><hr>
                            <div class="row row-narrow">

                                <div class="col-md-3">                                
                                    <img class="center-block" style="width: 300px" alt="#" src="./images/assistanceVoyage.png">                                
                                </div>
                                <div class="col-md-9">
                                    <div class="row row-narrow">
                                        <div class="col-md-8">
                                            <h2 class="text-danger text-center">Assistance</h2><hr>
                                            <p>
                                                Vous souhaitez être protégé durant votre voyage ? Souscrivez à notre assurance d`assistance 
                                                avec couverture des frais médicaux
                                                <a class="verInfoDetallada" href="javascript:var v=window.open('./images/eshopper.png','popUpPrivacidad','toolbar=0,menubar=0,scrollbars=1,width=715,height=615');"><span class="principal underline">Voir plus d'informations</span></a>

                                            </p>
                                        </div>

                                        <div class="col-md-4 text-center">
                                            <div class="row row-narrow">
                                                <p>&nbsp;</p>
                                                <div class="col-md-12">
                                                    <span>10,98€</span>
                                                </div>
                                                <p>&nbsp;</p>
                                                <div class="col-md-12">
                                                    <button type="button" class="btn btn-aqua" ng-model="prixAssurance" value="10.98">
                                                        <span>Inclure</span>
                                                    </button>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div><hr>
                            <div class="row row-narrow">

                                <div class="col-md-3">                                
                                    <img class="center-block" style="width: 300px" align="middle" alt="#" src="./images/packVoyage.png">                                
                                </div>
                                <div class="col-md-9">
                                    <div class="row row-narrow">
                                        <div class="col-md-8">
                                            <h2 class="text-danger text-center">Assistance et annulation</h2><hr>
                                            <p>
                                                Une protection intégrale pour votre voyage. Combine les garanties pour perte de bagage, tout type d`incident médical, annulations et retards de vols
                                                <a class="verInfoDetallada" href="javascript:var v=window.open('./images/packVoyage.png','popUpPrivacidad','toolbar=0,menubar=0,scrollbars=1,width=715,height=615');"><span class="principal underline">Voir plus d'informations</span></a>

                                            </p>
                                        </div>

                                        <div class="col-md-4 text-center">
                                            <div class="row row-narrow">
                                                <p>&nbsp;</p>
                                                <div class="col-md-12">
                                                    <span>15,98€</span>
                                                </div>
                                                <p>&nbsp;</p>
                                                <div class="col-md-12">
                                                    <button type="button" class="btn btn-aqua" ng-model="prixAssurance" ng-click="$scope.prixAssurance = 15.98">
                                                        <span>Inclure</span>
                                                    </button>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div><hr>
                        </div>
                    </details>
                </div>
                <div>
                    <details class="panel panel-default">
                        <summary class="panel-heading"><span class="text-primary">Paiement</span></summary> 
                        <div class="panel-body">
                            <div class="well well-lg">
                                Nous vous rapellons que tout le processus de réservation se réalise dans un environnement sécurisé.
                            </div> 
                            <div>

                                <div class="col-md-12 ">                        
                                    <label>Numéro de carte <span class="requis">*</span></label>
                                    <input type="text" ng-model="client.numeroCb" class="form-control" required size="20" maxlength="20" />
                                </div>
                                <div class="col-md-3 ">                        
                                    <label>mois <span class="requis">*</span></label>
                                    <input type="text" ng-model="client.moisCb" class="form-control" required size="20" maxlength="20" />
                                </div>
                                <div class="col-md-3 ">                        
                                    <label>Année <span class="requis">*</span></label>
                                    <input type="text" ng-model="client.anneeCb" class="form-control"  required size="20" maxlength="20" />
                                </div>
                                <div class="col-md-3 ">                        
                                    <label>CVV/CVC <span class="requis">*</span></label>
                                    <input type="text" ng-model="client.cryptogrameCb" class="form-control" required size="20" maxlength="20" />
                                </div>


                            </div>
                            <p>&nbsp;</p><p>&nbsp;</p>
                        </div>
                    </details>
                </div>
                <p>&nbsp;</p>                
            </div>
            <div class="col-md-4">
                <div  class="panel panel-default">
                    <div class="panel-heading">
                        <h1>Votre réservation</h1>
                    </div>
                    <div class="panel-body row">        
                        <!--****************************************************************-->
                        <div class="col-md-12">
                            <h2 class="text-danger">Allée</h2>
                            <table class="table table-striped table-hover ">
                                <tbody ng-repeat="vol in reservationresult.outbound.flights">
                                    <tr class="info" >
                                        <td>Compagnie : {{vol.operating_airline}}</td>
                                        <td>Classe : {{vol.booking_info.travel_class}}</td>
                                    </tr >
                                    <tr class="active">
                                        <td>Vol numéro : {{vol.flight_number}}</td>
                                        <td>Model d'avion {{vol.aircraft}}</td>                                            
                                    </tr>
                                    <tr class="active">
                                        <td>Départ à : {{vol.departs_at| date :  "H:mm"}}</td>
                                        <td>Le {{vol.departs_at| date :  "EEE dd MMM yyyy"}}</td>
                                    </tr>
                                    <tr class="active">
                                        <td>Aéroport : {{vol.origin.airport}} </td>
                                        <td ng-show="{{vol.origin.terminal}}" >Terminal : {{vol.origin.terminal}} </td>
                                    </tr>
                                    <tr class="active">
                                        <td>Arrivée à : {{vol.arrives_at| date :  "H:mm"}}</td>
                                        <td>Le {{vol.arrives_at| date :  "EEE dd MMM yyyy"}}</td>
                                    </tr>
                                    <tr class="active">
                                        <td>Aéroport : {{vol.destination.airport}} </td>
                                        <td ng-show="{{vol.destination.terminal}}" >Terminal : {{vol.destination.terminal}} </td>
                                    </tr>
                                    <tr class="active">
                                        <td><span>Il reste {{vol.booking_info.seats_remaining}} places</span></td>
                                    </tr>
                                </tbody>
                                <tbody>
                                    <tr>
                                        <td class="danger" ><span>Durée du vol : {{reservationresult.outbound.duration}}</span></td>                                      
                                    </tr>
                                </tbody>
                            </table>

                            <h2 class="text-danger">Retour</h2>
                            <table class="table table-striped table-hover ">
                                <tbody ng-repeat="vol in reservationresult.inbound.flights">
                                    <tr class="info" >
                                        <td>Compagnie : {{vol.operating_airline}}</td>
                                        <td>Classe : {{vol.booking_info.travel_class}}</td>
                                    </tr >
                                    <tr class="active">
                                        <td>Vol numéro : {{vol.flight_number}}</td>
                                        <td>Model d'avion {{vol.aircraft}}</td>                                            
                                    </tr>
                                    <tr class="active">
                                        <td>Départ à : {{vol.departs_at| date :  "H:mm"}}</td>
                                        <td>Le {{vol.departs_at| date :  "EEE dd MMM yyyy"}}</td>
                                    </tr>
                                    <tr class="active">
                                        <td>Aéroport : {{vol.origin.airport}} </td>
                                        <td ng-show="{{vol.origin.terminal}}" >Terminal : {{vol.origin.terminal}} </td>
                                    </tr>
                                    <tr class="active">
                                        <td>Arrivée à : {{vol.arrives_at| date :  "H:mm"}}</td>
                                        <td>Le {{vol.arrives_at| date :  "EEE dd MMM yyyy"}}</td>
                                    </tr>
                                    <tr class="active">
                                        <td>Aéroport : {{vol.destination.airport}} </td>
                                        <td ng-show="{{vol.destination.terminal}}" >Terminal : {{vol.destination.terminal}} </td>
                                    </tr>
                                    <tr class="active">
                                        <td><span>Il reste {{vol.booking_info.seats_remaining}} places</span></td>
                                    </tr>
                                </tbody>
                                <tbody>
                                    <tr>
                                        <td class="danger" ><span>Durée du vol : {{reservationresult.inbound.duration}}</span></td>                                      
                                    </tr>
                                </tbody>
                            </table>



                            <div>
                                <h2  class="text-danger">Prix par voyageur :</h2> 
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-info">Par adulte :</li>
                                    <li class="list-group-item">Prix : {{reservationresult.fare.price_per_adult.total_fare}} {{reservationresult.fare.currency}} || taxe : {{reservationresult.fare.price_per_adult.tax}} {{reservationresult.fare.currency}}</li>
                                    <li ng-show="{{reservationresult.fare.price_per_child.total_fare}}" class="list-group-item list-group-item-info">Par enfant :</li>
                                    <li ng-show="{{reservationresult.fare.price_per_child.total_fare}}" class="list-group-item" >Prix : {{reservationresult.fare.price_per_child.total_fare}} {{reservationresult.fare.currency}} || taxe : {{reservationresult.fare.price_per_child.tax}} {{reservationresult.fare.currency}}</li>
                                    <li ng-show="{{reservationresult.fare.price_per_infant.total_fare}}" class="list-group-item list-group-item-info">Par bébé :</li>
                                    <li ng-show="{{reservationresult.fare.price_per_infant.total_fare}}" class="list-group-item">Prix : {{reservationresult.fare.price_per_infant.total_fare}} {{reservationresult.fare.currency}} || taxe : {{reservationresult.fare.price_per_infant.tax}} {{reservationresult.fare.currency}}</li>
                                </ul>

                            </div>
                            <div>
                                <h2 class="text-danger">Assurance</h2>
                                <ul class="list-group">
                                    <li class="list-group-item list-group-item-info">Type d'assurance : {{assurance.type}}</li>
                                    <li class="list-group-item">Prix : {{assurance.prix}}</li>
                                </ul>
                            </div>
                            <div>
                                <h2 class="text-danger">Prix total</h2>
                                <ul class="list-group">
                                    <li class="list-group-item">Assurance : {{assurance.prix}}</li>
                                    <li class="list-group-item">Prix total de base : {{reservationresult.fare.total_price}}</li>
                                    <li class="list-group-item list-group-item-danger">Total à regler: ({{reservationresult.fare.total_price}})+({{assurance.prix}})</li>                                    
                                </ul>
                            </div>
                            <div>
                                <h2 class="text-danger">Echange et frais </h2>
                                <p><span ng-show="{{reservationresult.fare.restrictions.change_penalties}}">Echangeable avec frais</span>
                                    <span ng-hide="{{reservationresult.fare.restrictions.change_penalties}}">Echangeable sans frais</span>
                                    <span ng-show="{{reservationresult.fare.restrictions.refundable}}"> et remboursable </span>
                                    <span ng-hide="{{reservationresult.fare.restrictions.refundable}}">, non Remboursable</span></p>
                            </div><hr>
                        </div> 
                    </div>
                </div>
                <div class="col-md-12 ">     
                    <button  ng-click="saveReservation()"  ng-disabled="client.email != client.emailConfirm" class="btn btn-aqua">RESERVER</button>
                </div>
            </div>
            <p>&nbsp;</p>
        </form>
    </div>
    <div ng-if="mode.value == 'confirm'">
        <div class="panel-heading">Confirmation : le compte a été bien enregistré pour la société {{}}</div>
        <div class="form-group">
            <label class="control-label">Identifiant :</label> 
        </div>
    </div>
    <div>
        <p class="alert" ng-if="exception.message"><br> {{exception.message}}</p>
        <p class="alert" ng-show="client.email != client.emailConfirm && client.email != null"><br> Les deux adresses mail saisies ne sont pas identiques </p>
    </div>
</div>